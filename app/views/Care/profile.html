#{set pageType = 'setting' /}
#{extends 'caremain.html' /}
	<!--Start Content-->
<div id="content" class="col-xs-12 col-sm-10">
	<div class="row col-xs-12">
 		<div class="col-xs-12 col-sm-12">
 			<h4 class="page-header">Update Profile</h4>
 		</div>
 		<div class="col-xs-12 col-sm-12">
			#{form @Profile.updateProfile() , id:'passForm' }
 			<table class="col-xs-10 col-sm-5 table-condensed">	
 				<tr><td><ul class="list-group" id="errorGroup"></ul></td></tr>
 				
 				<tr>
 					<td>Designation
<!--  					</td> -->
<!--  					<td> -->

 					<select name="designation">
 					<option vaue="-1">Select</option>
 					#{if designations != null}
					    		#{list designations, as:'seq'}
					    			<option value="${seq.id}">${seq.abbr}</option>
					    		#{/list}
					    	#{/if}
					    	</select>
 					</td>
 				</tr>
 				<tr>
 					<td>
 						<div>
					    	<label for="exampleInputEmail1">Phones</label>
						</div>
 						<table class="table-responsive" style="width:100%;">
 							<tr>
 								<td style="width: 115px;">Mobile phone</td>
 								<td>
 								<div class="input-group">
								<input type="tel" value="${userDto.mobile}" class="form-control" name="mobile" placeholder="Mobile phone" required>
								<span class="input-group-addon has-error"><i class="fa fa-star"></i></span>
					    	</div>
							<div class="help-block with-errors"></div>
 								</td>
 							</tr>
 							<tr>
 								<td style="width: 115px;">Home phone</td>
 								<td>
 								<div class="input-group">
								<input type="tel" class="form-control" value="${userDto.homePhone}" name="homephone" placeholder="Home phone">
					    	</div>
 								</td>
 							</tr>
 						</table>
					</td>
 				</tr>
 				<tr>
 					<td>
 					<hr/>
 					<div>
					    	<label for="exampleInputEmail1"> Practice Address</label>
						</div>
 						<table class="table-responsive" style="width:100%;">
 							<tr>
 								<td style="width: 115px;">Street</td>
 								<td>
 								<div class="input-group">
								<input type="text" class="form-control" name="street1" placeholder="Street line 1"
								#{if expertDetail != null}
 								#{if expertDetail.practiceAddr != null} 
								value="${expertDetail.practiceAddr.line1}"
								#{/if}
								#{/if}
								>
					    	</div>
							<div class="help-block with-errors"></div>
 								</td>
 							</tr>
 							<tr>
 								<td style="width: 90px;">&nbsp;</td>
 								<td>
 								<div class="input-group">
								<input type="text" class="form-control" name="street2" placeholder="Line 2"
								#{if expertDetail != null}
 								#{if expertDetail.practiceAddr != null} 
								value="${expertDetail.practiceAddr.line2}"
								#{/if}
								#{/if}
								>
					    	</div>
							<div class="help-block with-errors"></div>
 								</td>
 							</tr>
 							<tr>
 								<td style="width: 90px;">City</td>
 								<td>
 								<div class="input-group">
								<input type="text" class="form-control" name="city" placeholder="City"
								#{if expertDetail != null}
 								#{if expertDetail.practiceAddr != null} 
								value="${expertDetail.practiceAddr.city}"
								#{/if}
								#{/if}
								>
					    	</div>
							<div class="help-block with-errors"></div>
 								</td>
 							</tr>
 							<tr>
 								<td style="width: 90px;">State</td>
 								<td>
 								<div class="input-group">
								<input type="text" class="form-control" name="state" placeholder="State"
								#{if expertDetail != null}
 								#{if expertDetail.practiceAddr != null} 
								value="${expertDetail.practiceAddr.state}"
								#{/if}
								#{/if}
								>
					    	</div>
							<div class="help-block with-errors"></div>
 								</td>
 							</tr>
 							<tr>
 								<td>Country</td>
 								<td>
 								<div class="input-group">
								<input type="text" class="form-control" name="country" placeholder="Country"
								#{if expertDetail != null}
 								#{if expertDetail.practiceAddr != null} 
								value="${expertDetail.practiceAddr.country}"
								#{/if}
								#{/if}
								>
					    	</div>
							<div class="help-block with-errors"></div>
 								</td>
 							</tr>
 							<tr>
 								<td>Zip</td>
 								<td>
 								<div class="input-group">
								<input type="text" class="form-control" name="zip" placeholder="Zip"
								#{if expertDetail != null}
 								#{if expertDetail.practiceAddr != null} 
								value="${expertDetail.practiceAddr.zip}"
								#{/if}
								#{/if}
								>
					    	</div>
							<div class="help-block with-errors"></div>
 								</td>
 							</tr>
 							<tr>
 								<td>Statement</td>
 								<td>
 								<div class="input-group">
								<textarea name="statement" style="width:600px;height:100px;">
								#{if expertDetail != null}
									${expertDetail.statement}
								#{/if}
								</textarea>
					    	</div>
							<div class="help-block with-errors"></div>
 								</td>
 							</tr>
 						</table>
					</td>
 				</tr>
 				<tr>
 					<td><hr/>
 					<button type="submit" class="btn btn-default btn-lg btn-block" >Save</button></td>
 				</tr>		
 			</table>
 			#{/form}
 			</div>
 		</div>
	</div>
<!-- <div id="ajax-content"></div> -->
   <script>
<!--
    $(document).ready(function() {
    	$('#passForm').validator();
    	var Options = { success: setMessageOnForm };
    	$('#passForm').submit(function() {
            $.ajax({ type: "POST",
              url: "/care/updateCareProfile",
              data: $('#passForm').serialize(),
                  success: function(msg){
                           if (msg.indexOf("Error") === 0) {
                   			var errorText = msg.replace("Error:", "");
                   			$("#errorGroup").html("<li class='list-group-item list-group-item-danger'>" + errorText  +"</li>"); 
                   		} else {
                   			$("#errorGroup").html("<li class='list-group-item list-group-item-success'>" + msg  +"</li>"); 
                   		}
                   },
             error: function(){
            	  $("#errorGroup").html("<li class='list-group-item list-group-item-danger'>Internal server error. Please try again.</li>"); 
                  }
             });
    		
    		return false;
    	});
    	
    });

	setMessageOnForm = function(responseText, statusText, xhr, $form) {
		if (responseText.indexOf("Error") === 0) {
			var errorText = responseText.replace("Error:", "");
			$("#errorGroup").html("<li class='list-group-item list-group-item-danger'>" + errorText  +"</li>"); 
		} else {
			$("#errorGroup").html("<li class='list-group-item list-group-item-success'>" + errorText  +"</li>"); 
		}
	}
	makePrimary = function(email) {
		$.ajax({
			type: "POST",
			url: "/profile/updateAditionalEmail",
			data: {"email":email,"op":"mp"},
			success: function(msg){
				$("#errorGroup").html("<li class='list-group-item list-group-item-danger'>"+msg+"</li>");
			},
			error: function() {
				$("#errorGroup").html("<li class='list-group-item list-group-item-danger'>Internal server error. Please try again.</li>"); 
			}
		});
	} 
	removeEmail = function(email) {
		$.ajax({
			type: "POST",
			url: "/profile/updateAditionalEmail",
			data: {"email":email,"op":"r"},
			success: function(msg){
				$("#emailList").find("[data-for='" + msg + "']").remove();
			},
			error: function() {
				$("#errorGroup").html("<li class='list-group-item list-group-item-danger'>Internal server error. Please try again.</li>"); 
			}
		});
	}
	showEmailBox = function() {
		$("#addEmailBox").show();
	}
	hideEmailBox = function() {
		$("#addEmailBox").hide();
	}
-->
</script>